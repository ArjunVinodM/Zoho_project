{% extends 'base.html' %}
{% load static %}

{% block content %}

<style>
  table, th, td, tr {
    border: 1px solid white;
    border-collapse: collapse;
  }

  .topnav {
    background-color: #333;
  }
  
  .a {
    float: left;
    color: #f2f2f2;
    text-align: center;
    padding: 14px 16px;
    text-decoration: none;
    font-size: 14px;
  }

  .customize {
    float: left;
    text-align: center;
    padding: 20px 330px;
    text-decoration: none;
    font-size: 14px;
  }
  
  .topnav-right {
    float: right;
  }

  .dropdown, .nav-item {
    float: left;
    color: #f2f2f2;
    text-align: center;
    padding: 4px 4px;
    text-decoration: none;
    font-size: 14px;
  }

  .dropdown-item:hover{
    color: white;
  }

  .b {
    float: left;
    color: #f2f2f2;
    padding: 14px 16px;
    text-decoration: none;
    font-size: 14px;
  }

  .daterangepicker{
    color: black;
  }

  /* Styling for the modal background */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 10%;
    width: 90%;
    height: 90%;
    background-color: transparent;
    margin-bottom:100% ;
}

/* Styling for the modal content */
.modal-content {
    background-color: white;
    width: 60%;
    margin: 0 auto;
    padding: 20px;
    border-radius: 5px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    position: absolute;
    top: 10%;
    left:10%;
    right:10%
}

/* Styling for the close button */
.close {
    float: right;
    font-size: 24px;
    font-weight: bold;
    cursor: pointer;
}

.close:hover {
    color: red;
}

/* Styling for the button inside the modal */
#button1 {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
}

#button1:hover {
    background-color: #0056b3;
}
.warning-icon {
    color: #FFD700; 
    font-size: 24px;
    margin-right: 5px;
}

</style>


<ul class="nav nav-pills">
  <li class="nav-item">
    <a href="#home" class="a">
      <i class="fa fa-bars" style="font-size:25px;"></i>
    </a>
  </li>

  <li>
    <div class="b text-black">
      <div id="reportrange" style="background: white; color: black; cursor: pointer; padding: 5px 10px; border: 1px solid black; height: 4vh; width: 19vw;">
        <i class="fa fa-calendar"></i>&nbsp;
        <span></span> <i class="fa fa-caret-down"></i>
      </div>
    </div>
  </li>

  <a href="{% url 'product_customize' %}"  class="customize me-auto">
    <i class="fa fa-gear" style="font-size:18px;"></i>&nbsp&nbsp&nbsp
    Customize report
  </a>

  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false" style="background: white; color: black;"><i class="fa fa-print"></i></a>
    <ul class="dropdown-menu">
      <li><a class="dropdown-item" href="#" style="font-size:10px;" onclick="printpage()">Print Preference</a></li>
    </ul>
  </li>

  <li class="nav-item dropdown">
    <select name="dropdowns" id="exportDropdown" style="width: 100px; height: 37px; padding-left: 2px; background-color: azure">
      <option value="" disabled selected>Export AS</option>
      <option value="pdf">PDF</option>
      <option value="xls">XLS (Microsoft Excel 1997-2004 Compatible)</option>
    </select>
  </li>

  <li class="nav-item" style="height:4vh; width:4vw;">
    <button type="button" onclick="history.go(-1);" style="height:5vh; width:2.5vw;">&times;</button>
  </li>
</ul>

<div class="container-fluid"> 
  <div class="row pt-5 pb-5">
    <center>
      <div class="col-md-4">
        <a class="text-white" style="font-size: 1rem;">Zoho Org</a><br>
        <a class="text-white" style="font-size: 1.5rem;">Product Sales Report </a><br>
        <a class="text-white" style="font-size: 0.8rem;">From 01 Apr 2023 To 31 Mar 2023</a><br>
      </div>
    </center>   
  </div> 

  <div style="overflow-x: auto; overflow-x: hidden;">
    <div class="row pt-2">
      <div class="col-sm-10 col-md-11 col-lg-12">
        <table class="table text-white">
          <thead>
            <tr>
              <th>ITEM NAME</th>
              <th>MARGIN</th>
              <th>QTY SOLD</th>
              <th>SALES PRICE</th>
              <th>SALES WITH TAX</th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td> 
            </tr>
            <tr>
              <td></td>
              <td></td>
              <td></td>
              <td></td> 
              <td></td> 
            </tr>
            <tr>
              <td></td>
              <td></td>
              <td></td>
              <td></td> 
            </tr>
            <tr>
              <td></td>
              <td></td>
              <td></td>
              <td></td> 
            </tr>
            <tr>
              <td></td>
              <td></td>
              <td></td>
              <td></td> 
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <p>**Amount is displayed in your base currency INR</p>
</div>  

<div id="pdfModal" class="modal" style="width: 70%; padding-left: 30%;">
  <div class="modal-content">
    <div class="modal-header" style="background-color: lightgray;margin-bottom:10% ;">
     
      <h2 style="color: black;font-size: larger;font-weight: bold;justify-content: right;">Export Report As PDF</h2>
      <span class="close">&times;</span>
    </div>
    <div class="modal-body" >
      <p  style="color: black;font-size: medium;">You can protect the export report with a password to keep your data secure</p>
      <input type="checkbox" style="color: black;"><p style="color: black;font-size: medium;">I want to protect this file with password</p><br>
      <a href="" onclick="page()">customize pdf</a>
    </div>
    <div class="modal-footer">
      <button onclick="page()" id="button1">Export PDF</button>
      <button id="button1">cancel</button>
    </div>
  </div>
</div>

<div id="xlsModal" class="modal"  style="width: 70%; padding-left: 30%;">
  <div class="modal-content">
    <div class="modal-header" style="background-color: lightgray;margin-bottom:10% ;">
     
      <h2 style="color: black;font-size: larger;font-weight: bold;justify-content: right;">Export Report as XLS (Microsoft Excel 1997-2004 Compatible)</h2>
      <span class="close">&times;</span>
    </div>
    <div class="modal-body" >
      <p  style="color: black;font-size: medium;">You can protect the export report with a password to keep your data secure</p>
      <input type="checkbox" style="color: black;"><p style="color: black;font-size: medium;">I want to protect this file with password</p><br>
      
    </div>
    <div class="modal-footer">
      <button onclick="page()" id="button1">Export PDF</button>
      <button id="button1">cancel</button>
    </div>
  </div>
</div>
</div>

<script>

  $(document).ready(function() {
      $("#exportDropdown").change(function() {
          var selectedOption = $(this).val();
          $(".modal").hide();
          
          if (selectedOption === "pdf") {
              $("#pdfModal").show();
          } 
          else if(selectedOption === "xls")
          {
            $("#xlsModal").show();
          }
      });
  
      // Close modal when the close button is clicked
      $(".close").click(function() {
          $(this).closest(".modal").hide();
      });
  });
  </script>


<script>
  $(function() {
  
    var start = moment().subtract(29, 'days');
    var end = moment();
  
    function cb(start, end) {
        $('#reportrange span').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'));
    }
  
    $('#reportrange').daterangepicker({
        startDate: start,
        endDate: end,
        ranges: {
           'Today': [moment(), moment()],
           'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
           'Last 7 Days': [moment().subtract(6, 'days'), moment()],
           'Last 30 Days': [moment().subtract(29, 'days'), moment()],
           'This Month': [moment().startOf('month'), moment().endOf('month')],
           'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
        }
    }, cb);
  
    cb(start, end);
  
  });
  </script>

  <script>
    function printpage() {
      window.print();
    }
  </script>

{% endblock content %}